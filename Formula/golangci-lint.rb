# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GolangciLint < Formula
  desc "Fast linters runner for Go."
  homepage "https://golangci-lint.octolab.org/"
  version "1.57.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/kamilsk/golangci-lint/releases/download/v1.57.0/golangci-lint_1.57.0_darwin-arm64.tar.gz"
      sha256 "4866c12d5206cc245574071aa69ef5e29c475c9d00a195d6701791903807efdb"

      def install
        bin.install "golangci-lint"

        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output

        prefix.install_metafiles
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kamilsk/golangci-lint/releases/download/v1.57.0/golangci-lint_1.57.0_darwin-amd64.tar.gz"
      sha256 "191d2dbde00b7c3439ca19871c0106f5710135489f3e7ba49ab93d565c8f23a2"

      def install
        bin.install "golangci-lint"

        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output

        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/kamilsk/golangci-lint/releases/download/v1.57.0/golangci-lint_1.57.0_linux-arm64.tar.gz"
      sha256 "a193121f8f8b6f2c040badea6f02ec57d76d698b50e56acc7c27b79db36f74e2"

      def install
        bin.install "golangci-lint"

        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output

        prefix.install_metafiles
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kamilsk/golangci-lint/releases/download/v1.57.0/golangci-lint_1.57.0_linux-amd64.tar.gz"
      sha256 "c1ec187a2a5ed9e57656dfe2573053122292774d4f2869bb09d4e81ce4020535"

      def install
        bin.install "golangci-lint"

        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output

        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output

        prefix.install_metafiles
      end
    end
  end

  test do
    system "#{bin}/golangci-lint version"
  end
end
